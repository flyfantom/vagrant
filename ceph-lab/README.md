# –°—Ç–µ–Ω–¥ —Å –∫–ª–∞—Å—Ç–µ—Ä–æ–º CEPH

## –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–µ–Ω–¥–∞



### –°—Ö–µ–º–∞ —Å—Ç–µ–Ω–¥–∞

![scheme_current.png](scheme/scheme_current.png)

### –û–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–≤

<details><summary>–û–ø–∏—Å–∞–Ω–∏–µ–º —Å–µ—Ä–≤–µ—Ä–æ–≤ (–Ω–∞–∂–∞—Ç—å, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å)</summary><p>

| server                       | ip-–∞–¥—Ä–µ—Å                                                 | —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–æ–ª—å                                          | –∫–ª—é—á–µ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ –ü–û                                     | –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                                  |
| ---------------------------- | -------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ceph-lab-client              | 10.11.0.5, 172.16.21.5                                   | —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ web-–∫–ª–∏–µ–Ω—Ç–æ–≤, –∏—Å—Ç–æ—á–Ω–∏–∫ http-—Ç—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è | docker, yandex.tank                                          | –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ [OverloadùõÉ](https://overload.yandex.net/) —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π —Ñ–∞–π–ª —Å —Ç–æ–∫–µ–Ω–æ–º |
| ceph-lab-1                   | 10.11.0.10, 172.16.21.10                                 | –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ http-—Ç—Ä–∞—Ñ–∏–∫–∞, master keepalived                | haproxy, keepalived                                          |                                                              |
| ceph-lab-2                   | 10.11.0.20, 172.16.21.20                                 | –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ http-—Ç—Ä–∞—Ñ–∏–∫–∞, backup keepalived                | haproxy, keepalived                                          |                                                              |
| ceph-lab-3                   | 10.11.0.30, 172.16.21.30                                 | –∞–∫—Ç–∏–≤–Ω—ã–π web-—Å–µ—Ä–≤–µ—Ä —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ zabbix, –±—ç–∫–µ–Ω–¥ (zabbix-server) —Å VIP-–∞–¥—Ä–µ—Å–æ–º, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ë–î —Ç–µ–∫—É—â–µ–≥–æ –ª–∏–¥–µ—Ä–∞ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ postresql | nginx, php-fpm, zabbix-server-pgsql, zabbix-web-pgsql, mamonsu, pacemaker |                                                              |
| ceph-lab-4                   | 10.11.0.40, 172.16.21.40                                 | –∞–∫—Ç–∏–≤–Ω—ã–π web-—Å–µ—Ä–≤–µ—Ä —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ zabbix, –±—ç–∫–µ–Ω–¥ (zabbix-server) —Å VIP-–∞–¥—Ä–µ—Å–æ–º, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ë–î —Ç–µ–∫—É—â–µ–≥–æ –ª–∏–¥–µ—Ä–∞ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ postresql, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π mamonsu | nginx, php-fpm, zabbix-server-pgsql, zabbix-web-pgsql, mamonsu, pacemaker |                                                              |
</p></details>
